# # --- I2C ---
# CONFIG_I2C=y
# CONFIG_I2C_NRFX=y

# # --- UART & Logging ---
# CONFIG_SERIAL=y
# CONFIG_UART_CONSOLE=y
# CONFIG_PRINTK=y
# CONFIG_LOG=y
# CONFIG_LOG_MODE_IMMEDIATE=y

# # --- BLE Peripheral ---
# CONFIG_BT=y
# CONFIG_BT_PERIPHERAL=y
# CONFIG_BT_DEVICE_NAME="Vitals"
# CONFIG_BT_DEVICE_APPEARANCE=833
# CONFIG_BT_GATT_DYNAMIC_DB=y   # Required for dynamic GATT table

# CONFIG_BT_CONN_PARAM_UPDATE_TIMEOUT=5000
# CONFIG_BT_MAX_CONN=1

# # Optimized buffer configuration for notifications
# # Lower than defaults to save RAM but remain sufficient for throughput
# CONFIG_BT_CONN_TX_MAX=12
# CONFIG_BT_L2CAP_TX_MTU=247
# CONFIG_BT_BUF_ACL_TX_SIZE=251
# CONFIG_BT_BUF_ACL_TX_COUNT=10
# CONFIG_BT_BUF_ACL_RX_SIZE=251
# CONFIG_BT_BUF_ACL_RX_COUNT=6

# CONFIG_BT_MAX_PAIRED=1

# # Optional: Remove unnecessary GATT Client role
# CONFIG_BT_GATT_CLIENT=n
# CONFIG_BT_SMP=n

# # --- Threads / Memory ---
# # CONFIG_MAIN_STACK_SIZE=2048
# # CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
# # CONFIG_HEAP_MEM_POOL_SIZE=4096

# # --- Time / POSIX ---
# CONFIG_NEWLIB_LIBC=y
# CONFIG_POSIX_API=y
# CONFIG_CBPRINTF_FP_SUPPORT=y
# CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y

# # --- ADC Support ---
# CONFIG_ADC=y
# CONFIG_ADC_NRFX_SAADC=y

# # --- Optional debugging helpers ---
# CONFIG_THREAD_NAME=y
# CONFIG_THREAD_MONITOR=y

# # --- GPIO & Clock ---
# CONFIG_GPIO=y
# CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y

# # --- RTC / Counter ---
# CONFIG_NRFX_RTC2=y
# CONFIG_COUNTER=y
# #CONFIG_COUNTER_RTC=y
# CONFIG_RTC=y
# CONFIG_RTC_ALARM=y



# # SPI and SPI NOR flash support
# CONFIG_SPI=y
# CONFIG_SPI_NOR=y
# CONFIG_FLASH=y
# CONFIG_FLASH_MAP=y

# # External flash support & partition manager
# CONFIG_PM_PARTITION_REGION_LITTLEFS_EXTERNAL=y
# CONFIG_PM_EXTERNAL_FLASH_BASE=0x0


# # override driver check if driver not Nordic native
# CONFIG_PM_OVERRIDE_EXTERNAL_DRIVER_CHECK=y

# # File system
# CONFIG_FILE_SYSTEM=y
# CONFIG_FILE_SYSTEM_LITTLEFS=y

# # Logging
# CONFIG_LOG=y
# CONFIG_LOG_DEFAULT_LEVEL=3

# # Other necessities
# CONFIG_MAIN_STACK_SIZE=8192

# CONFIG_ISR_STACK_SIZE=4096

# CONFIG_LOG_PROCESS_THREAD_STACK_SIZE=3072

# CONFIG_HEAP_MEM_POOL_SIZE=16384

# CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# CONFIG_SPI_NRFX=y

# CONFIG_NORDIC_QSPI_NOR=n

# CONFIG_FLASH_PAGE_LAYOUT=y

# CONFIG_FS_LOG_LEVEL_INF=y

# CONFIG_SOC_NRF52832_ALLOW_SPIM_DESPITE_PAN_58=y

# CONFIG_MPU_STACK_GUARD=n
# CONFIG_INIT_STACKS=y

# CONFIG_THREAD_STACK_INFO=y

# CONFIG_HW_STACK_PROTECTION=y

# CONFIG_ASSERT=y

# # # Optional: analyze actual usage at boot
# # CONFIG_THREAD_ANALYZER=y
# # CONFIG_THREAD_ANALYZER_AUTO=y
# # CONFIG_THREAD_ANALYZER_USE_PRINTK=y

# # Enable shell
# CONFIG_SHELL=y
# CONFIG_SHELL_BACKEND_SERIAL=y
# CONFIG_SHELL_CMDS=y

# # Enable filesystem shell commands
# CONFIG_FILE_SYSTEM_SHELL=y

# # Enable file systems
# CONFIG_FILE_SYSTEM=y
# CONFIG_FILE_SYSTEM_LITTLEFS=y




# # --- I2C ---
# CONFIG_I2C=y
# CONFIG_I2C_NRFX=y

# # --- UART & Logging ---
# CONFIG_SERIAL=y
# CONFIG_UART_CONSOLE=y
# CONFIG_PRINTK=y
# CONFIG_CONSOLE=y
# CONFIG_LOG_BACKEND_UART=y
# CONFIG_LOG=y
# CONFIG_LOG_DEFAULT_LEVEL=3
# CONFIG_LOG_MODE_IMMEDIATE=y   # no log thread needed

# # --- LED --- #
# CONFIG_LED_STRIP=y
# CONFIG_LED_STRIP_LOG_LEVEL_DBG=y
# CONFIG_FPU=y


# # --- BLE Peripheral ---
# CONFIG_BT=y
# CONFIG_BT_PERIPHERAL=y
# CONFIG_BT_DEVICE_NAME="Vitals"
# CONFIG_BT_DEVICE_APPEARANCE=833
# CONFIG_BT_GATT_DYNAMIC_DB=y
# CONFIG_BT_CONN_PARAM_UPDATE_TIMEOUT=5000
# CONFIG_BT_MAX_CONN=1
# CONFIG_BT_MAX_PAIRED=1

# CONFIG_BT_CENTRAL=y


# # Optimized BLE buffers
# CONFIG_BT_CONN_TX_MAX=12
# CONFIG_BT_L2CAP_TX_MTU=247
# CONFIG_BT_BUF_ACL_TX_SIZE=251
# CONFIG_BT_BUF_ACL_TX_COUNT=10
# CONFIG_BT_BUF_ACL_RX_SIZE=251
# CONFIG_BT_BUF_ACL_RX_COUNT=6

# # Disable unused roles / security to save RAM
# CONFIG_BT_GATT_CLIENT=n
# CONFIG_BT_SMP=n

# # --- Threads / Memory ---
# CONFIG_MAIN_STACK_SIZE=2048
# CONFIG_ISR_STACK_SIZE=1024
# CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=1024
# CONFIG_HEAP_MEM_POOL_SIZE=2048

# # --- Time / POSIX ---
# CONFIG_NEWLIB_LIBC=n
# CONFIG_MINIMAL_LIBC=y
# CONFIG_POSIX_API=y
# CONFIG_CBPRINTF_FP_SUPPORT=y
# #CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y

# # Lower newlib heap requirement so it won't assert
# #CONFIG_NEWLIB_LIBC_MIN_REQUIRED_HEAP_SIZE=256

# # --- ADC Support ---
# CONFIG_ADC=y
# CONFIG_ADC_NRFX_SAADC=y

# # --- GPIO & Clock ---
# CONFIG_GPIO=y
# CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y

# # --- RTC / Counter ---
# CONFIG_NRFX_RTC2=y
# CONFIG_COUNTER=y
# CONFIG_RTC=y
# CONFIG_RTC_ALARM=y

# # --- SPI & Flash ---
# CONFIG_SPI=y
# CONFIG_SPI_NRFX=y
# CONFIG_SOC_NRF52832_ALLOW_SPIM_DESPITE_PAN_58=y
# CONFIG_SPI_NOR=y
# CONFIG_FLASH=y
# CONFIG_FLASH_MAP=y
# CONFIG_FLASH_PAGE_LAYOUT=y

# # External flash + LittleFS
# CONFIG_PM_PARTITION_REGION_LITTLEFS_EXTERNAL=y
# CONFIG_PM_EXTERNAL_FLASH_BASE=0x0
# CONFIG_PM_OVERRIDE_EXTERNAL_DRIVER_CHECK=y
# CONFIG_FILE_SYSTEM=y
# CONFIG_FILE_SYSTEM_LITTLEFS=y
# CONFIG_FS_LOG_LEVEL_INF=y

# # --- Debug options (disable in production) ---
# CONFIG_ASSERT=y
# # CONFIG_THREAD_NAME=y
# # CONFIG_THREAD_MONITOR=y
# # CONFIG_INIT_STACKS=y
# # CONFIG_HW_STACK_PROTECTION=y
# # CONFIG_THREAD_ANALYZER=y
# # CONFIG_THREAD_ANALYZER_AUTO=y
# # CONFIG_THREAD_ANALYZER_USE_PRINTK=y

# # --- Optional shell (disable if not needed) ---
# CONFIG_SHELL=y
# CONFIG_SHELL_BACKEND_SERIAL=y
# CONFIG_SHELL_CMDS=y
# CONFIG_FILE_SYSTEM_SHELL=y
# # Increase shell UART thread stack to prevent overflow
# CONFIG_SHELL_STACK_SIZE=4096



# --- I2C ---
CONFIG_I2C=y
CONFIG_I2C_NRFX=y

# --- UART & Logging ---
CONFIG_SERIAL=y
CONFIG_UART_CONSOLE=y
CONFIG_PRINTK=y
CONFIG_CONSOLE=y
CONFIG_LOG_BACKEND_UART=y
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_LOG_MODE_IMMEDIATE=y

# --- LED ---
CONFIG_LED_STRIP=y
CONFIG_LED_STRIP_LOG_LEVEL_DBG=y
CONFIG_FPU=y

# --- BLE Peripheral ---
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="Vitals"
CONFIG_BT_DEVICE_APPEARANCE=833
CONFIG_BT_GATT_DYNAMIC_DB=y
CONFIG_BT_CONN_PARAM_UPDATE_TIMEOUT=5000
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1
CONFIG_BT_RX_STACK_SIZE=2048

# CONFIG_BT_CENTRAL=y
CONFIG_BT_GATT_CLIENT=n
CONFIG_BT_SMP=n

CONFIG_BT_CONN_TX_MAX=12
CONFIG_BT_L2CAP_TX_MTU=247
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_BUF_ACL_TX_COUNT=10
CONFIG_BT_BUF_ACL_RX_SIZE=251
CONFIG_BT_BUF_ACL_RX_COUNT=6

# --- Threads / Memory ---
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_ISR_STACK_SIZE=1024
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_HEAP_MEM_POOL_SIZE=2048

# --- Time / POSIX ---
CONFIG_NEWLIB_LIBC=y
CONFIG_MINIMAL_LIBC=n
CONFIG_POSIX_API=n
CONFIG_CBPRINTF_FP_SUPPORT=y
# Remove Newlib-specific options
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=y
CONFIG_NEWLIB_LIBC_MIN_REQUIRED_HEAP_SIZE=256

# --- ADC Support ---
CONFIG_ADC=y
CONFIG_ADC_NRFX_SAADC=y

# --- GPIO & Clock ---
CONFIG_GPIO=y
CONFIG_GPIO_NRFX=y
CONFIG_CLOCK_CONTROL_NRF_K32SRC_XTAL=y

# --- RTC / Counter ---
CONFIG_NRFX_RTC2=y
CONFIG_COUNTER=y
CONFIG_RTC=y
CONFIG_RTC_ALARM=y

# --- SPI & Flash ---
CONFIG_SPI=y
CONFIG_SPI_NRFX=y
CONFIG_SOC_NRF52832_ALLOW_SPIM_DESPITE_PAN_58=y
CONFIG_SPI_NOR=y
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_PAGE_LAYOUT=y

# --- External Flash + LittleFS ---
CONFIG_PM_PARTITION_REGION_LITTLEFS_EXTERNAL=y
CONFIG_PM_EXTERNAL_FLASH_BASE=0x0
CONFIG_PM_OVERRIDE_EXTERNAL_DRIVER_CHECK=y
CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_LITTLEFS=y
CONFIG_FS_LOG_LEVEL_INF=y

# --- Debug options ---
CONFIG_ASSERT=y

# --- Shell support ---
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_CMDS=y
CONFIG_FILE_SYSTEM_SHELL=y
CONFIG_SHELL_STACK_SIZE=4096




